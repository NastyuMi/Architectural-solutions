# Лабораторна робота №8: Рефакторинг коду з проблемою "Заздрісні функції"

## Опис проблеми

Початковий код мав проблему "заздрісних функцій" (Envious Functions), коли клас `Order` містив функції, які надто сильно залежали від внутрішньої структури іншого класу (`Customer`). Це порушує принцип інкапсуляції та робить код менш гнучким і складним для підтримки.

## Рефакторинг

Для вирішення цієї проблеми я провів наступний рефакторинг:

1. **Створення класу `Address`**: Створено новий клас `Address`, який інкапсулює логіку, пов'язану з адресою. Цей клас містить методи для перевірки, чи адреса знаходиться у Нью-Йорку або Каліфорнії, а також метод для форматування адреси.

2. **Використання класу `Address` у класі `Customer`**: Клас `Customer` тепер містить екземпляр `Address` як атрибут `address`.

3. **Використання класу `Address` у класі `Order`**: Функції, пов'язані з адресою, у класі `Order` були замінені на використання методів класу `Address`. Це дозволило уникнути "заздрісних функцій" і зосередити логіку, пов'язану з адресою, в одному місці.

4. **Використання патерну "Стратегія" (Strategy)**: Було введено абстрактний клас `ShippingStrategy` та конкретну реалізацію `StandardShippingStrategy`. Це дозволяє легко додавати нові стратегії обчислення вартості доставки в майбутньому.

5. **Додавання валідації адреси**: У конструктор класу `Address` додано параметри для окремих компонентів адреси (вулиця, місто, штат, поштовий індекс), що дозволяє забезпечити правильність введених даних.

6. **Використання фабричного методу для створення адреси**: Конструктор класу `Address` тепер приймає окремі компоненти адреси замість рядка, що робить його більш гнучким та зручним у використанні.

## Переваги рефакторингу

Проведений рефакторинг дозволив вирішити проблему "заздрісних функцій" і привніс ряд переваг:

- **Модульність**: Логіка, пов'язана з адресою, зосереджена в одному класі `Address`, що робить код більш модульним і легшим для розуміння та підтримки.
- **Гнучкість**: Використання патерну "Стратегія" дозволяє легко додавати нові способи обчислення вартості доставки без зміни коду в існуючих класах.
- **Розширюваність**: Клас `Address` можна легко розширювати, додаючи нові методи та властивості, пов'язані з адресою.
- **Інкапсуляція**: Дотримання принципу інкапсуляції шляхом приховування внутрішньої структури класів та забезпечення контрольованого доступу до їхніх властивостей і методів.

Ці покращення роблять код більш гнучким, легшим для підтримки та розширення, а також дотримуються принципів об'єктно-орієнтованого програмування.